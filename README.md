<h1>Тесты в Postman</h1>
<p>Пример работы с коллекцией</p>
https://drive.google.com/file/d/1uiIeBKLyhpbBo_Fll-AyAQE03qbQ7twA/view?usp=sharing 
<p>Обычные проверки в Postman можно заменить либо описав их в корне проекта и используя как функции, либо как скрипты через import</p>
<p>К примеру так выглядит импорт</p>
![image](https://github.com/terikaisterika/work_with_collection/assets/48588741/10e9756a-2d17-4282-bdca-92fb3953e5d0)
<p>Создаются через эту ссылку:</p>
![image](https://github.com/terikaisterika/work_with_collection/assets/48588741/848b7c49-ff4c-4b65-8e92-f84c27e7a997)
<p>Пишутся приблизительно так:</p>
![image](https://github.com/terikaisterika/work_with_collection/assets/48588741/eca3b356-a47c-4179-83f3-2bb3ba7860a3).
<p>Работа через функции в корне проекта.</p>
<p>Проще всего общие проверки закинуть в корень проекта через переменную:</p>
![image](https://github.com/terikaisterika/work_with_collection/assets/48588741/d65f09f8-5491-4f12-a6de-e0f17fddaf41)
<p>Переменная должна быть без var и let.</p>
<p>В тестах это будет выглядеть так: </p>
![image](https://github.com/terikaisterika/work_with_collection/assets/48588741/be574ca6-e546-42fd-a9ba-9d9cceb0efe6)
<p>Можно часть утилит, которые будут как подготовительные выводить в отдельные объекты, чтобы они не засоряли проверки.</p>
![image](https://github.com/terikaisterika/work_with_collection/assets/48588741/a3f57e67-eff9-4659-9bf2-7477bf205a70)
<p>В каких случаях авто проверки актуальны:</p>
<ul>
  <li>Для поддержки коллекции. После того, как прошло основное тестирование (перепроверили отправку данных с валидными/ не валидными значениями, разобрались, какие данные не должны дублироваться, так как возможно придется использовать динамические переменные). Составили основную логическую связку. К примеру в коллекции из видео всего 6 методов, но проверка составлена таким образом</li>
  <ul>
    <ol>Создали сущность.(Далее на всех шагах проверяется код ответа сервера. utilsPostResponse.checkStatus() По сути должно быть названо checkCode() но текущий вариант мне нравится больше)</ol>
    <ol>Нашли по id</ol>
    <ol>Нашли в списке по тегам в единственном экземпляре</ol>
    <ol>Нашли в списке по статусу в единственном экземпляре</ol>
    <ol>Обновили сущность (изменили имя и статус), проверили что имя и статус обновились</ol>
    <ol>Нашли по id. Проверили что сущность с новым именем</ol>
    <ol>Нашли в списке по тегам в единственном экземпляре. Сущность не задублировалась</ol>
    <ol>Нашли в списке по статусу в единственном экземпляре. Сущность не задублировалась</ol>
    <ol>Удалили сущность. Первый ответ должен говорить об удалении.</ol>
    <ol>Попытались удалить сущность. Проверка, что статус 404.</ol>
    <ol>Попытались найти сущность по id. Проверка, что статус 404.</ol>
  </ul>
  <li>Когда какие-то вещи часто затрагиваются и прогонять каждый раз одно и тоже не удобно.</li>
</ul>

<h3>Вещи, которые стоит помнить.</h3>
<ul>
  <li>Под каждую среду тестирования свое окружение. Как минимум baseUrl везде должен быть разный</li>
  <li>Переменные лучше всего сохранять в environment (pm.environment.set("PetResponse", pm.response.json()). Удобно посмотреть текущее состояние и те переменные, которые общепринятые, чтобы не городить лишнего.</li>
  <li>Если в pm.request.body используется JSON с переменными, то валидного JSON.parse не будет, т.к текст берется до отправки, т.е. когда еще не достали значение переменных</li>
  ![image](https://github.com/terikaisterika/work_with_collection/assets/48588741/588c9cc3-be89-4ae4-8e2c-deab84635ae7)
  <li>С большими числами могут быть проблемы. Т.е. если число больше Number.MAX_SAFE_INTEGER могут вести себя не очень, поэтому их придется приводить либо к bigint, либо к текстовым значениям.</li>
</ul>






